mixed-port: 7890
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090

dns:
  enable: true
  enhanced-mode: redir-host
  nameserver:
    - 223.6.6.6
    - 223.5.5.5
  fallback:
    - 208.67.222.222
    - 208.67.220.220
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4

proxies:
  - {
     name: Shadowsocks,
     type: socks5,
     server: 127.0.0.1,
     port: 1080,
    }

proxy-providers:
cfw: # 所有节点
   type: http 
   path: cfw.yaml
   # url: https://subcon.py6.pw/sub?target=clash&new_name=true&url=ssr/v2ray订阅链接&list=true
   url: https://suo.yt/fsCcv39 # 公益节点
   interval: 43200
   health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300

proxy-groups:
  - name: Proxy
    type: select
    use:
      - cfw
    proxies:
      - Shadowsocks

rules:
  - DOMAIN-SUFFIX,ip6-localhost,Proxy
  - DOMAIN-SUFFIX,ip6-loopback,Proxy
  - DOMAIN-SUFFIX,local,Proxy
  - DOMAIN-SUFFIX,localhost,Proxy
  - IP-CIDR,10.0.0.0/8,Proxy,no-resolve
  - IP-CIDR,100.64.0.0/10,Proxy,no-resolve
  - IP-CIDR,127.0.0.0/8,Proxy,no-resolve
  - IP-CIDR,172.16.0.0/12,Proxy,no-resolve
  - IP-CIDR,192.168.0.0/16,Proxy,no-resolve
  - IP-CIDR6,::1/128,Proxy,no-resolve
  - IP-CIDR6,fc00::/7,Proxy,no-resolve
  - IP-CIDR6,fe80::/10,Proxy,no-resolve
  - IP-CIDR6,fd00::/8,Proxy,no-resolve
  - GEOIP,CN,DIRECT
  - MATCH,Proxy